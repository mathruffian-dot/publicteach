<div class="relative min-h-screen flex flex-col font-sans text-slate-200">
  <!-- Header -->
  <app-header 
    [sessionActive]="sessionActive()"
    (sessionToggle)="toggleSession($event)"
    (subjectChange)="handleSubjectChange($event)">
  </app-header>

  <!-- Main Dashboard -->
  <main class="flex-grow container mx-auto p-4 md:p-6 lg:p-8">
    <app-dashboard
      [sessionActive]="sessionActive()"
      [teachingStates]="teachingStates()"
      [teachingActions]="teachingActions()"
      [logStream]="logStream()"
      (stateToggle)="handleStateToggle($event)"
      (actionToggle)="handleActionToggle($event)">
    </app-dashboard>
  </main>

  <!-- Footer -->
  <app-footer
    [sessionActive]="sessionActive()"
    [remindForEngagement]="remindForEngagement()"
    (engagementChange)="handleEngagementChange($event)"
    (noteAdd)="handleNoteAdd($event)">
  </app-footer>

  <!-- Summary Modal -->
  @if (showSummaryModal()) {
    <app-summary-modal
      [subject]="selectedSubject()"
      [startTime]="sessionStartTime()"
      [totalTime]="totalSessionTimeFormatted()"
      [states]="teachingStates()"
      [actions]="teachingActions()"
      [engagementLog]="engagementLog()"
      [qualitativeNotes]="qualitativeNotes()"
      (closeModal)="handleCloseModal()">
    </app-summary-modal>
  }
</div>